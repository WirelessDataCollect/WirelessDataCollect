"<html><head><style type='text/css'>body{font-family:Arial;background:#EFF4F3;margin:0;color:#32403f;}#wp{width:600px;margin:0 auto;}p{display:inline-block;font-weight:bold;text-align:right;margin:9px 30px 9px 0;}p,input{width:200px;}h1{text-align:center;font-size:3em;margin:0;padding:20px 0;color:#d6e4e1;border:1px solid #7F8D8C;text-shadow:1px 1px 0 #333;}input{height:24px;border:1px solid #ccc;border-radius:4px;padding:2px 5px;margin:0 6px 0 20px;}input:focus{border-color:#32403f;}form{padding-top:20px;border-top:1px solid #2B3736;}.btn{width:100px;margin:15px 0 15px 250px;font-weight:700;color:#fff;border:1px solid #000;}h1,.btn{background:#485c5a;background:linear-gradient(#485c5a,#32403f);}.btn:active{background:#32403f;}input[type=checkbox],input[type=radio]{width:16px;height:14px;}#msg{margin:0 0 10px 0;}</style></head><body><h1>Sample Web Page</h1><form id='fm' method='post' action='#' onsubmit='return pt()'><div id='wp'><input class='btn' type='button' name='refresh' value='REFRESH!' onclick='up()'><br><div id='msg' align='center'></div><p>Temperature:</p><input id='temp' name='temp'><p>Accelerometer X:</p><input id='accx' name='accx'><p>Accelerometer Y:</p><input id='accy' name='accy'><p>Accelerometer Z:</p><input id='accz' name='accz'><p>Checkbox 1:</p><input id='cbox1' name='cbox1' type='checkbox'><br><p>Checkbox 2:</p><input id='cbox2' name='cbox2' type='checkbox'><br><p>Radio 1:</p><input id='rv0' name='radio1' value='0' type='radio'>Value 0<input id='rv1' name='radio1' value='1' type='radio'>Value 1<input id='rv2' name='radio1' value='2' type='radio'>Value 2<br><input class='btn' type='submit' value='SUBMIT!'></div></form><script type='text/javascript'>function $(x){return document.getElementById(x);}function map(a,f){for(var i=0;i<a.length;i++) f($(a[i]));}function u(b){map(['temp','accx','accy','accz'],function(x){if(b)json[x.id]=(x.value);else x.value=json[x.id];});map(['cbox1','cbox2'],function(x){if(b)json[x.id]=x.checked;else x.checked=json[x.id];});if(b) json['radio1']=$('rv0').checked?0:$('rv1').checked?1:2;else $('rv'+json['radio1']).checked=true;}function ds(e,b){$(e).style.display=b?'block':'none';}function req(m,f,p,d) {x=new XMLHttpRequest();x.open(m,'/sample_update',true);if(p)x.setRequestHeader('Content-type','application/x-www-form-urlencoded');x.send(d);x.onreadystatechange=function(){if(x.readyState==4 && x.status==200)f(x.responseText);}}function up(){req('GET',function(r){json=JSON.parse(r);window.onload();},false);}function pt(){u(true);req('POST',function(x){ds('msg',1);$('msg').innerHTML=x;setTimeout(function(){ds('msg',0)},999)},true,'json='+JSON.stringify(json));return false;}window.onload=function(){$('fm').reset();(JSON.stringify(json)!='{}')&& u(false);}</script></body></html>"
